package com.cooking.config;

import com.cooking.entity.Dish;
import com.cooking.repository.DishRepository;
import lombok.RequiredArgsConstructor;
import org.springframework.boot.CommandLineRunner;
import org.springframework.stereotype.Component;

import java.util.Arrays;
import java.util.List;

@Component
@RequiredArgsConstructor
public class DataInitializer implements CommandLineRunner {

    private final DishRepository dishRepository;

    @Override
    public void run(String... args) {
        if (dishRepository.count() == 0) {
            initializeDishes();
        }
    }

    private void initializeDishes() {
        List<Dish> dishes = Arrays.asList(
                createDish(
                        "宫保鸡丁",
                        "经典川菜，麻辣鲜香，鸡肉嫩滑，花生酥脆，是四川传统名菜之一",
                        "/images/gongbaojiding.jpg",
                        Arrays.asList("鸡胸肉 300g", "花生米 50g", "干辣椒 10个", "花椒 1勺", "葱 2根", "姜 3片", "蒜 3瓣", "生抽 2勺",
                                "老抽 1勺", "料酒 1勺", "糖 1勺", "醋 1勺", "盐 适量"),
                        Arrays.asList(
                                "鸡胸肉切丁，用料酒、生抽、盐腌制15分钟",
                                "花生米用小火炒至酥脆，盛起备用",
                                "热锅下油，放入鸡丁炒至变色，盛起",
                                "锅中留底油，放入干辣椒、花椒爆香",
                                "加入葱姜蒜炒香，放入鸡丁翻炒",
                                "加入生抽、老抽、糖、醋调味",
                                "最后加入花生米翻炒均匀即可"),
                        "川菜",
                        "中等",
                        30,
                        2),
                createDish(
                        "番茄鸡蛋",
                        "家常菜，简单易做，营养丰富，酸甜可口，是每个家庭都会做的经典菜品",
                        "/images/fanqiejidan.jpg",
                        Arrays.asList("鸡蛋 4个", "番茄 2个", "葱 1根", "糖 1勺", "盐 适量", "油 适量"),
                        Arrays.asList(
                                "番茄洗净切块，鸡蛋打散",
                                "热锅下油，倒入鸡蛋液炒熟盛起",
                                "锅中再下油，放入番茄块炒出汁",
                                "加入糖和盐调味",
                                "倒入炒好的鸡蛋，翻炒均匀",
                                "撒上葱花即可"),
                        "家常菜",
                        "简单",
                        15,
                        2),
                createDish(
                        "红烧肉",
                        "经典本帮菜，肥而不腻，入口即化，色泽红亮，是上海本帮菜的代表作",
                        "/images/hongshaorou.jpg",
                        Arrays.asList("五花肉 500g", "冰糖 50g", "生抽 3勺", "老抽 2勺", "料酒 2勺", "葱 2根", "姜 5片", "八角 2个", "桂皮 1块",
                                "盐 适量"),
                        Arrays.asList(
                                "五花肉切块，冷水下锅焯水，捞出洗净",
                                "热锅下油，放入冰糖小火炒至糖色",
                                "放入五花肉翻炒上色",
                                "加入葱姜、八角、桂皮炒香",
                                "加入生抽、老抽、料酒翻炒",
                                "加入热水没过肉块，大火烧开转小火炖1小时",
                                "最后大火收汁即可"),
                        "本帮菜",
                        "中等",
                        90,
                        4),
                createDish(
                        "麻婆豆腐",
                        "四川名菜，麻辣鲜香，豆腐嫩滑，是川菜中的经典代表，深受人们喜爱",
                        "/images/mapodoufu.jpg",
                        Arrays.asList("嫩豆腐 400g", "牛肉末 100g", "豆瓣酱 2勺", "花椒粉 1勺", "葱 2根", "姜 2片", "蒜 2瓣", "生抽 1勺",
                                "料酒 1勺", "水淀粉 适量"),
                        Arrays.asList(
                                "豆腐切块，用盐水浸泡10分钟",
                                "热锅下油，放入牛肉末炒散",
                                "加入豆瓣酱炒出红油",
                                "加入葱姜蒜炒香",
                                "加入适量水，放入豆腐块",
                                "加入生抽、料酒调味，小火煮5分钟",
                                "用水淀粉勾芡，撒上花椒粉和葱花即可"),
                        "川菜",
                        "简单",
                        25,
                        2),
                createDish(
                        "糖醋里脊",
                        "酸甜可口，外酥里嫩，老少皆宜，是鲁菜中的经典菜品",
                        "/images/tangculiji.jpg",
                        Arrays.asList("猪里脊 300g", "鸡蛋 1个", "面粉 50g", "淀粉 50g", "番茄酱 3勺", "糖 2勺", "醋 2勺", "盐 适量",
                                "油 适量"),
                        Arrays.asList(
                                "里脊肉切条，用盐、料酒腌制15分钟",
                                "鸡蛋打散，加入面粉和淀粉调成糊",
                                "里脊肉裹上蛋糊，下油锅炸至金黄",
                                "锅中留底油，放入番茄酱炒香",
                                "加入糖、醋和适量水调成糖醋汁",
                                "放入炸好的里脊肉翻炒均匀即可"),
                        "鲁菜",
                        "中等",
                        40,
                        3),
                createDish(
                        "清蒸鲈鱼",
                        "粤菜经典，鱼肉鲜嫩，原汁原味，保持了鱼肉的鲜美和营养",
                        "/images/qingzhengluyu.jpg",
                        Arrays.asList("鲈鱼 1条", "葱 3根", "姜 5片", "蒸鱼豉油 3勺", "料酒 1勺", "盐 适量", "油 适量"),
                        Arrays.asList(
                                "鲈鱼处理干净，在鱼身上划几刀",
                                "用盐和料酒腌制15分钟",
                                "盘中放葱姜，放上鲈鱼",
                                "水开后上锅蒸8-10分钟",
                                "取出后倒掉盘中水，去掉葱姜",
                                "重新放上葱丝，淋上蒸鱼豉油",
                                "最后淋上热油即可"),
                        "粤菜",
                        "简单",
                        25,
                        2),
                createDish(
                        "鱼香肉丝",
                        "川菜经典，鱼香味浓郁，肉丝嫩滑，配菜丰富，是下饭神器",
                        "/images/yuxiangrousi.jpg",
                        Arrays.asList("猪里脊 200g", "木耳 50g", "胡萝卜 1根", "青椒 1个", "豆瓣酱 1勺", "葱 2根", "姜 2片", "蒜 3瓣",
                                "生抽 2勺", "醋 1勺", "糖 1勺", "料酒 1勺", "水淀粉 适量"),
                        Arrays.asList(
                                "里脊肉切丝，用料酒、生抽、水淀粉腌制",
                                "木耳、胡萝卜、青椒切丝",
                                "调鱼香汁：生抽、醋、糖、水淀粉混合",
                                "热锅下油，放入肉丝炒至变色盛起",
                                "锅中留底油，放入豆瓣酱炒出红油",
                                "加入葱姜蒜炒香，放入配菜翻炒",
                                "加入肉丝和鱼香汁，大火翻炒均匀即可"),
                        "川菜",
                        "中等",
                        25,
                        2),
                createDish(
                        "水煮鱼",
                        "川菜名菜，麻辣鲜香，鱼肉嫩滑，配菜丰富，是川菜中的经典",
                        "/images/shuizhuyu.jpg",
                        Arrays.asList("草鱼 1条", "豆芽 200g", "干辣椒 20个", "花椒 2勺", "豆瓣酱 2勺", "葱 3根", "姜 5片", "蒜 5瓣", "料酒 2勺",
                                "盐 适量", "油 适量"),
                        Arrays.asList(
                                "草鱼处理干净，片成鱼片，用料酒、盐腌制",
                                "豆芽焯水，铺在碗底",
                                "热锅下油，放入豆瓣酱炒出红油",
                                "加入葱姜蒜炒香，加入适量水煮开",
                                "放入鱼片煮至变色，盛在豆芽上",
                                "锅中热油，放入干辣椒和花椒爆香",
                                "将热油淋在鱼片上即可"),
                        "川菜",
                        "困难",
                        45,
                        4),
                createDish(
                        "回锅肉",
                        "川菜经典，肥而不腻，香辣下饭，是四川家常菜的代表",
                        "/images/huiguorou.jpg",
                        Arrays.asList("五花肉 300g", "青椒 2个", "蒜苗 3根", "豆瓣酱 2勺", "甜面酱 1勺", "豆豉 1勺", "葱 2根", "姜 3片",
                                "料酒 1勺", "糖 1勺"),
                        Arrays.asList(
                                "五花肉冷水下锅，加料酒、葱姜煮至八成熟",
                                "捞出放凉，切成薄片",
                                "青椒、蒜苗切段",
                                "热锅下油，放入肉片炒至卷曲出油",
                                "加入豆瓣酱、甜面酱、豆豉炒香",
                                "放入青椒、蒜苗翻炒",
                                "加入糖调味，炒匀即可"),
                        "川菜",
                        "中等",
                        35,
                        3),
                createDish(
                        "白切鸡",
                        "粤菜经典，鸡肉鲜嫩，原汁原味，蘸料丰富，是广东名菜",
                        "/images/baiqieji.jpg",
                        Arrays.asList("三黄鸡 1只", "姜 5片", "葱 3根", "料酒 2勺", "盐 适量", "香油 适量"),
                        Arrays.asList(
                                "整鸡处理干净，用盐和料酒腌制30分钟",
                                "锅中加水，放入姜片、葱段煮开",
                                "将鸡放入，大火煮开后转小火煮15分钟",
                                "关火焖20分钟，用筷子插入无血水即可",
                                "捞出放入冰水中冷却",
                                "切块装盘，配姜葱蘸料即可"),
                        "粤菜",
                        "简单",
                        50,
                        4),
                createDish(
                        "蒜蓉粉丝蒸扇贝",
                        "粤菜海鲜，扇贝鲜甜，粉丝入味，蒜香浓郁，是海鲜大餐的经典",
                        "/images/suanrongfensizhengshanbei.jpg",
                        Arrays.asList("扇贝 8个", "粉丝 50g", "蒜 1头", "葱 2根", "生抽 2勺", "蚝油 1勺", "料酒 1勺", "油 适量"),
                        Arrays.asList(
                                "扇贝处理干净，粉丝用温水泡软",
                                "蒜切末，一半用油炒成金黄色",
                                "将炒好的蒜和生蒜混合，加入生抽、蚝油调成蒜蓉酱",
                                "粉丝放在扇贝上，淋上蒜蓉酱",
                                "水开后上锅蒸5-6分钟",
                                "取出后撒上葱花，淋上热油即可"),
                        "粤菜",
                        "简单",
                        20,
                        4),
                createDish(
                        "京酱肉丝",
                        "京菜经典，酱香浓郁，肉丝嫩滑，配以豆皮和蔬菜，是北京名菜",
                        "/images/jingjiangrousi.jpg",
                        Arrays.asList("猪里脊 300g", "甜面酱 3勺", "豆皮 2张", "黄瓜 1根", "大葱 2根", "姜 2片", "料酒 1勺", "糖 1勺",
                                "水淀粉 适量"),
                        Arrays.asList(
                                "里脊肉切丝，用料酒、水淀粉腌制",
                                "豆皮切块，黄瓜、大葱切丝",
                                "热锅下油，放入肉丝炒至变色盛起",
                                "锅中留底油，放入甜面酱炒香",
                                "加入糖和适量水，放入肉丝翻炒",
                                "大火收汁，配豆皮、黄瓜丝、葱丝卷食"),
                        "京菜",
                        "中等",
                        30,
                        3),
                createDish(
                        "酸菜鱼",
                        "川菜名菜，酸辣开胃，鱼肉鲜嫩，酸菜爽脆，是川菜中的经典",
                        "/images/suancaiyu.jpg",
                        Arrays.asList("草鱼 1条", "酸菜 200g", "泡椒 10个", "干辣椒 10个", "花椒 1勺", "葱 3根", "姜 5片", "蒜 5瓣", "料酒 2勺",
                                "盐 适量"),
                        Arrays.asList(
                                "草鱼处理干净，片成鱼片，用料酒、盐腌制",
                                "酸菜切段，泡椒切碎",
                                "热锅下油，放入酸菜、泡椒炒香",
                                "加入适量水煮开，放入鱼头、鱼骨煮10分钟",
                                "放入鱼片煮至变色",
                                "热锅下油，放入干辣椒、花椒爆香",
                                "将热油淋在鱼片上，撒上葱花即可"),
                        "川菜",
                        "中等",
                        40,
                        4),
                createDish(
                        "干煸豆角",
                        "川菜经典，豆角干香，配以肉末，是下饭神器",
                        "/images/ganbiandoujiao.jpg",
                        Arrays.asList("豆角 300g", "猪肉末 100g", "干辣椒 10个", "花椒 1勺", "葱 2根", "姜 2片", "蒜 3瓣", "生抽 1勺",
                                "料酒 1勺", "盐 适量"),
                        Arrays.asList(
                                "豆角洗净切段，用油煸炒至表面起皱",
                                "热锅下油，放入肉末炒散",
                                "加入干辣椒、花椒炒香",
                                "放入葱姜蒜炒香",
                                "加入豆角翻炒",
                                "加入生抽、料酒、盐调味",
                                "炒至豆角熟透即可"),
                        "川菜",
                        "中等",
                        25,
                        2),
                createDish(
                        "白灼虾",
                        "粤菜经典，虾肉鲜甜，原汁原味，蘸料丰富，是海鲜大餐的必点",
                        "/images/baizhuoxia.jpg",
                        Arrays.asList("大虾 500g", "姜 5片", "葱 3根", "料酒 2勺", "生抽 2勺", "香油 1勺", "蒜 3瓣"),
                        Arrays.asList(
                                "大虾处理干净，剪去虾须",
                                "锅中加水，放入姜片、葱段、料酒煮开",
                                "放入大虾煮至变色，约2-3分钟",
                                "捞出装盘",
                                "调蘸料：生抽、香油、蒜末混合",
                                "配蘸料食用即可"),
                        "粤菜",
                        "简单",
                        15,
                        3),
                createDish(
                        "口水鸡",
                        "川菜经典，麻辣鲜香，鸡肉嫩滑，是川菜中的凉菜代表",
                        "/images/koushuiji.jpg",
                        Arrays.asList("鸡腿 2个", "花生米 50g", "芝麻 1勺", "花椒粉 1勺", "辣椒油 2勺", "生抽 2勺", "醋 1勺", "糖 1勺", "葱 2根",
                                "姜 3片", "蒜 3瓣"),
                        Arrays.asList(
                                "鸡腿冷水下锅，加料酒、葱姜煮15分钟",
                                "关火焖10分钟，捞出放入冰水中冷却",
                                "鸡腿撕成丝，装盘",
                                "调酱汁：辣椒油、生抽、醋、糖、花椒粉混合",
                                "花生米炒香，压碎",
                                "将酱汁淋在鸡丝上，撒上花生碎和芝麻即可"),
                        "川菜",
                        "简单",
                        30,
                        2),
                createDish(
                        "糖醋排骨",
                        "本帮菜经典，酸甜可口，排骨酥烂，是上海本帮菜的代表",
                        "/images/tangcupaigu.jpg",
                        Arrays.asList("排骨 500g", "冰糖 50g", "生抽 2勺", "老抽 1勺", "料酒 2勺", "醋 3勺", "糖 2勺", "葱 2根", "姜 5片",
                                "八角 2个"),
                        Arrays.asList(
                                "排骨切段，冷水下锅焯水，捞出洗净",
                                "热锅下油，放入冰糖小火炒至糖色",
                                "放入排骨翻炒上色",
                                "加入葱姜、八角炒香",
                                "加入生抽、老抽、料酒、醋、糖",
                                "加入热水没过排骨，大火烧开转小火炖40分钟",
                                "最后大火收汁即可"),
                        "本帮菜",
                        "中等",
                        60,
                        3),
                createDish(
                        "蚂蚁上树",
                        "川菜经典，粉丝爽滑，肉末香浓，是川菜中的经典菜品",
                        "/images/mayishangshu.jpg",
                        Arrays.asList("粉丝 100g", "猪肉末 150g", "豆瓣酱 2勺", "葱 2根", "姜 2片", "蒜 3瓣", "生抽 1勺", "料酒 1勺",
                                "盐 适量"),
                        Arrays.asList(
                                "粉丝用温水泡软，剪短",
                                "热锅下油，放入肉末炒散",
                                "加入豆瓣酱炒出红油",
                                "加入葱姜蒜炒香",
                                "加入适量水，放入粉丝",
                                "加入生抽、料酒、盐调味",
                                "小火煮至粉丝入味，收汁即可"),
                        "川菜",
                        "简单",
                        20,
                        2),
                createDish(
                        "椒盐排骨",
                        "粤菜经典，外酥里嫩，椒盐味浓，是广东名菜",
                        "/images/jiaoyanpaigu.jpg",
                        Arrays.asList("排骨 500g", "椒盐 2勺", "料酒 2勺", "生抽 1勺", "淀粉 50g", "葱 2根", "姜 3片", "蒜 3瓣", "油 适量"),
                        Arrays.asList(
                                "排骨切段，用料酒、生抽、葱姜腌制30分钟",
                                "排骨裹上淀粉",
                                "热锅下油，放入排骨炸至金黄",
                                "捞出沥油",
                                "锅中留底油，放入蒜末炒香",
                                "放入排骨，撒上椒盐翻炒均匀即可"),
                        "粤菜",
                        "中等",
                        40,
                        3),
                createDish(
                        "鱼香茄子",
                        "川菜经典，鱼香味浓郁，茄子软糯，是下饭神器",
                        "/images/yuxiangqiezi.jpg",
                        Arrays.asList("茄子 2个", "猪肉末 100g", "豆瓣酱 2勺", "葱 2根", "姜 2片", "蒜 3瓣", "生抽 2勺", "醋 1勺", "糖 1勺",
                                "料酒 1勺", "水淀粉 适量"),
                        Arrays.asList(
                                "茄子切条，用盐腌制10分钟，挤去水分",
                                "热锅下油，放入茄子炸至金黄，盛起",
                                "锅中留底油，放入肉末炒散",
                                "加入豆瓣酱炒出红油",
                                "加入葱姜蒜炒香",
                                "调鱼香汁：生抽、醋、糖、水淀粉混合",
                                "放入茄子，倒入鱼香汁，大火翻炒均匀即可"),
                        "川菜",
                        "中等",
                        30,
                        2));

        dishRepository.saveAll(dishes);
    }

    private Dish createDish(String name, String description, String image,
            List<String> ingredients, List<String> steps,
            String category, String difficulty, Integer cookingTime, Integer servings) {
        Dish dish = new Dish();
        dish.setName(name);
        dish.setDescription(description);
        dish.setImage(image);
        dish.setIngredients(ingredients);
        dish.setSteps(steps);
        dish.setCategory(category);
        dish.setDifficulty(difficulty);
        dish.setCookingTime(cookingTime);
        dish.setServings(servings);
        return dish;
    }
}
